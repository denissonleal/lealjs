function back_button(){return $(".dialog").length?($(".dialog-waiting").length||$.dialog.close(),!1):$(".gdatepicker").length?($.gdatepicker.close(),!1):"undefined"!=typeof $.ctrl[current_page].back?($.ctrl[current_page].back(),!1):location.hash.length?(redirect(""),!1):void $.dialog.confirm("","Deseja fechar o aplicativo?",function(){navigator.app.exitApp()})}function clone(t){return JSON.parse(JSON.stringify(t))}function toggle_mask(){$("input").mask&&($(".mask-date").unmask().mask("00/00/0000",{}),$(".mask-time").unmask().mask("00:00:00",{placeholder:"__:__:__"}),$(".mask-date-time").unmask().mask("00/00/0000 00:00:00",{placeholder:"__/__/____ __:__:__"}),$(".mask-cep").unmask().mask("00000-000",{placeholder:"_____-___"}),$(".mask-cpf").unmask().mask("000.000.000-00",{placeholder:"___.___.___-__"}),$(".mask-cns").unmask().mask("000 0000 0000 0000",{placeholder:"___ ____ ____ ____"}),$(".mask-cnpj").unmask().mask("00.000.000/0000-00",{placeholder:"__.___.___/____-__"}),$(".mask-money").unmask().mask("000.000.000.000.000,00",{reverse:!0}),$(".mask-thousand").unmask().mask("000.000.000.000.000",{reverse:!0}),$(".mask-number").unmask().mask("#",{reverse:!0}),$(".mask-phone").unmask().mask(function(t){return 11===t.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},{onKeyPress:function(t,e,a,i){},placeholder:"(__) ____-____"}))}function update_masks(){$(".mask-cpf, .mask-phone, .mask-date, .mask-time, .mask-date, .mask-cpf, .mask-money, .mask-number").trigger("keyup")}function error_send(){$.dialog.info("Erro","Erro ao enviar informações")}function error_load(){$.dialog.info("Erro","Erro ao carregar informações")}function img_error(t,e){var t="undefined"==typeof t?".img-avatar":t,e="undefined"==typeof e?"/images/user-default.png":e;$(t).unbind("error").on("error",{img:e},function(t){$(this).attr("src")!=t.data.img&&$(this).attr("src",t.data.img)})}function removeAccents(t){var e="ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž",a="AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz";t=t.split("");var i,n,o=t.length;for(i=0;i<o;i++)(n=e.indexOf(t[i]))!=-1&&(t[i]=a[n]);return t.join("")}function routes(t){return hash=argument(0),hash?($(".all-views").hide(),$(".active",".sidebar-menu-items").removeClass("active"),"undefined"==typeof $.ctrl[hash]?$.controller(hash):$.ctrl[hash].show(),void(current_page=hash)):(redirect(initial_hash),!1)}function redirect(t){var e=location.hash.replace("#","");"object"==typeof t&&(t=t.join("/")),t=t.replace("#",""),t==e?routes():location.hash=t}function controller(t,e){if("function"==typeof e){var a=new e;for(var i in a)"function"==typeof a[i]&&(a[i]=a[i].bind(a));a.view||(a.view="#"+t),$.ctrl[t]=a}else $.ctrl[t]=e;"function"==typeof $.ctrl[t].initialize&&$($.ctrl[t].initialize)}function initial(t){initial_hash=t}function argument(t){var e=location.hash.replace("#","").split("/");return e.length>1&&!e[0].length&&t++,"undefined"==typeof e[t]?null:e[t]}function clone(t){return JSON.parse(JSON.stringify(t))}$(function(){$("body").append($("<div>",{"class":"dialog-overlay",hidden:!0})),$.dialog=new function(){this.height=$(window).height(),this.width=$(window).width(),this.waiting=function(t){html='<div class="dialog z-depth-1 dialog-waiting" hidden><div class="dialog-body text-center">'+t+"</div></div>",this.open(html)},this.confirm=function(t,e,a,i){var n={confirm:{},cancel:{}};n.title=t,n.message=e,n.confirm.event=a||"",n.cancel.event=i||"",n.cancel.label="CANCELAR",n.confirm.label="OK","object"==typeof t&&(n=$.extend(!0,n,t)),html='<div class="dialog z-depth-1" hidden><div class="dialog-header">'+n.title+'</div><div class="dialog-body">'+n.message+'</div><div class="dialog-footer"><button class="btn-flat dialog-cancel waves-effect">'+n.cancel.label+'</button><button class="btn-flat dialog-ok waves-effect">'+n.confirm.label+"</button></div></div>",this.open(html),$(".dialog-cancel").on("click",function(){"function"==typeof n.cancel.event&&n.cancel.event(),$.dialog.close()}),$(".dialog-ok").on("click",function(){"function"==typeof n.confirm.event&&n.confirm.event(),$.dialog.close()}),$(".dialog-ok").focus()},this.prompt=function(t){var e={title:"",message:"",label:"",inputName:"input-dialog",regex:"",callbackMessage:"Campo obrigatório",success:function(){}};$.extend(e,t),html='<div class="dialog z-depth-1" hidden>\t\t\t\t\t\t\t\t\t\t<div class="dialog-header">'+e.title+'</div>\t\t\t\t\t\t\t\t\t\t<div class="dialog-body">'+e.message+'\t\t\t\t\t\t\t\t\t\t\t<br>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">'+e.label+'</label>\t\t\t\t\t\t\t\t\t\t\t\t<input\tclass="'+e.inputName+'" name="'+e.inputName+'" type="text" regex="'+e.regex+'"></form-group>\t\t\t\t\t\t\t\t\t\t\t\t<div class="callback">'+e.callbackMessage+'</div>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<div class="dialog-footer">\t\t\t\t\t\t\t\t\t\t\t<button class="btn-flat dialog-cancel waves-effect">CANCELAR</button>\t\t\t\t\t\t\t\t\t\t\t<button class="btn-flat dialog-ok waves-effect">OK</button>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</div>',this.open(html),$(".dialog").find("[name='"+e.inputName+"']").focus(),$(".dialog-cancel").on("click",function(){$.dialog.close()}),$(".dialog-ok").on("click",function(){"function"==typeof func&&e.success(),$.dialog.close()})},this.info=function(t,e){html='<div class="dialog z-depth-1"><div class="dialog-header">'+t+'</div><div class="dialog-body">'+e+'</div><div class="dialog-footer"><button class="btn-flat btn-block dialog-cancel waves-effect">FECHAR</button></div></div>',this.open(html),$(".dialog-cancel").on("tapstart, click",function(){$.dialog.close()}),$(".dialog-cancel").focus()},this.open=function(t){$("body").append("<div class='dialog-overlay'></div>"),$("body").append(t),$(window).width()<=480&&$(".dialog").width($(window).width()-40);var e=$(".dialog").height(),a=$(".dialog").width();$(".dialog").css({top:$(window).height()/2-e/2,left:$(window).width()/2-a/2}).show(0),$(document).keyup(function(t){27==t.keyCode&&$(".dialog").length&&!$(".dialog-waiting").length&&$.dialog.close()})},this.close=function(){$(".dialog-overlay").remove(),$(".dialog").remove()}}}),jQuery.fn.sortElements=function(){var t=[].sort;return function(e,a){a=a||function(){return this};var i=this.map(function(){var t=a.call(this),e=t.parentNode,i=e.insertBefore(document.createTextNode(""),t.nextSibling);return function(){if(e===this)throw new Error("You can't sort elements if any one is a descendant of another.");e.insertBefore(this,i),e.removeChild(i)}});return t.call(this,e).each(function(t){i[t].call(a.call(this))})}}(),$.fn.broken=function(t){$(this).error(function(){var t=$(this).attr("broken");$(this).attr("src")!=t&&$(this).attr("src",t)}).attr("broken",t)},Number.prototype.format=function(t,e,a){var i=this,t=isNaN(t=Math.abs(t))?2:t,e=void 0==e?".":e,a=void 0==a?",":a,n=i<0?"-":"",o=parseInt(i=Math.abs(+i||0).toFixed(t))+"",s=(s=o.length)>3?s%3:0;return n+(s?o.substr(0,s)+a:"")+o.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+a)+(t?e+Math.abs(i-o).toFixed(t).slice(2):"")},$(function(){toggle_mask(),$("html").on("click",".back-history",function(){history.back()}),$('[data-toggle="tooltip"]').tooltip&&setInterval(function(){$('[data-toggle="tooltip"]').not(".tooltip-setted").addClass("tooltip-setted").tooltip()},5e3)}),$(".img-avatar","#birthdays").error(function(){var t="/images/user-default.png";$(this).attr("src")!=t&&$(this).attr("src",t)}),Function.prototype.bind=function(t){var e=this;return function(){return e.apply(t,arguments)}},$.fn.toClean=function(){$(".to-clean",this).html("")},$.fn.toDefault=function(){$(".to-clean",this).each(function(t){var e=$(this).attr("default");e||(e=""),$(this).html().length||$(this).html(e)})};var localdb={db:"localdb",init:function(t){this.db=t,this.has()||this.clear()},has:function(){return null!=localStorage.getItem(this.db)},save:function(t){return localStorage.setItem(this.db,JSON.stringify(t)),!0},get:function(t){if(!this.has())return!1;var e=JSON.parse(localStorage.getItem(this.db));for(key in e)if(key==t)return e[key]},set:function(t,e){var a={};this.has()&&(a=JSON.parse(localStorage.getItem(this.db))),a[t]=e,localStorage.setItem(this.db,JSON.stringify(a))},clear:function(){localStorage.removeItem(this.db)},getObject:function(){return JSON.parse(localStorage.getItem(this.db))}};$.ctrl={};var current_page="";$.view=function(t,e){t=t.replace("#","").replace(".","/"),$.ajax({url:"views/"+t+".html",type:"GET",dataType:"html",success:function(t){$(".app").append(t)},error:function(){$.alert("[$.view] caminho inválido")}}).done(e)},$.controller=function(t){t=t.replace("#","").replace(".","/"),$.ajax({url:"js/controllers/"+t+".js",type:"GET",dataType:"script",error:function(){}})};var initial_hash="";$(function(){$(window).on("hashchange",routes),setTimeout(routes,200)}),$.support.cors=!0;var serverUrl="/";$.each(["put","delete","post","get"],function(t,e){$[e]=function(t,a,i,n){for(var o=$("meta[name=type_user]").length?$("meta[name=type_user]").attr("value"):"",s=serverUrl+"/"+o+"/"+t;s.indexOf("//")>=0;)s=s.replace(/\/\//gi,"/");return $.ajax({url:s,type:e,dataType:"json",crossDomain:!0,data:a,success:i,error:n})}}),$.fn.send=function(t,e){"undefined"==typeof erro&&(e=error_send),$(this).submit(function(a){return a.preventDefault(),$(this).validation()?void $.post($(this).attr("action"),$(this).serialize(),t,e).done(function(){}):($.alert("Campo inválido. Por favor preencha corretamente."),!1)})},$.fn.sendImage=function(t,e){$(this).submit(function(){return $.dialog.waiting("Enviando..."),$.ajax({type:"POST",url:serverUrl+$(this).attr("action"),data:new FormData(this),enctype:"multipart/form-data",processData:!1,contentType:!1}).success(t).fail(e).done(function(){$(".dialog-waiting").length&&$.dialog.close()}),!1}),$(this).find('input[type="file"]').change(function(){for(var t=$(this).val(),e=[/.png$/,/.jpg$/,/.jpge$/],a=0;a<e.length;a++)if(t.search(e[a])>0)return void $(this).closest("form").submit();$.alert("Arquivo inválido!")})},$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},$.fn.validation=function(){var t=$(this).find("input, select");$(this).find(".has-error").removeClass("has-error"),$(t).removeClass("invalid"),$(".callback").hide();for(var e=0;e<$(t).length;e++){var a=$(t).eq(e).attr("regex");if(a&&a.length&&$(t).eq(e).is(":enabled")){var i=$(t).eq(e).is(":radio")||$(t).eq(e).is(":checkbox")?$(this).find("input:"+$(t).eq(e).attr("type")).filter("[name='"+$(t).eq(e).attr("name")+"']").filter(":checked").val():$(t).eq(e).val();if(i=i?i:"",!new RegExp(a,"i").exec(i))return $(t).eq(e).closest(".form-group").addClass("has-error").find(".callback").show(),$(t).eq(e).addClass("invalid").focus(),!1}}return!0},$(function(){$.alert=function(t,e){return e=e||5e3,id="toast-"+Date.now(),$("#toast-container").show(0),html='<div id="'+id+'" class="toast-alert toast">              <div class="toast-message">'+(t||"")+'</div>              <div class="material-icons toast-close" hidden>&#xE5CD;</div>            </div>',$("#toast-container").append(html),id="#"+id,$(id).addClass("toast-show"),$(".toast-close",id).click(function(){var t=$(this).closest(".toast");$(t).removeClass("toast-show"),setTimeout(function(t){$(t).remove()},300,t)}),e>0&&setTimeout(function(t){$(".toast-close",t).click()},e,id),id},$("body").append($("<div>",{id:"toast-container"}))});