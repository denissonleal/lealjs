function clone(e){return JSON.parse(JSON.stringify(e))}function toggle_mask(){$("input").mask&&($(".mask-date").unmask().mask("00/00/0000",{}),$(".mask-time").unmask().mask("00:00:00",{placeholder:"__:__:__"}),$(".mask-date-time").unmask().mask("00/00/0000 00:00:00",{placeholder:"__/__/____ __:__:__"}),$(".mask-cep").unmask().mask("00000-000",{placeholder:"_____-___"}),$(".mask-cpf").unmask().mask("000.000.000-00",{placeholder:"___.___.___-__"}),$(".mask-cns").unmask().mask("000 0000 0000 0000",{placeholder:"___ ____ ____ ____"}),$(".mask-cnpj").unmask().mask("00.000.000/0000-00",{placeholder:"__.___.___/____-__"}),$(".mask-money").unmask().mask("000.000.000.000.000,00",{reverse:!0}),$(".mask-thousand").unmask().mask("000.000.000.000.000",{reverse:!0}),$(".mask-number").unmask().mask("#",{reverse:!0}),$(".mask-phone").unmask().mask(function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},{onKeyPress:function(e,t,n,a){},placeholder:"(__) ____-____"}))}function routes(e){return hash=argument(0),hash?($(".all-views").hide(),$(".active",".sidebar-menu-items").removeClass("active"),"undefined"==typeof $.ctrl[hash]?$.controller(hash):$.ctrl[hash].show(),void(current_page=hash)):(redirect(initial_hash),!1)}function redirect(e){var t=location.hash.replace("#","");"object"==typeof e&&(e=e.join("/")),e=e.replace("#",""),e==t?routes():location.hash=e}function controller(e,t){if("function"==typeof t){var n=new t;for(var a in n)"function"==typeof n[a]&&(n[a]=n[a].bind(n));n.view||(n.view="#"+e),$.ctrl[e]=n}else $.ctrl[e]=t;"function"==typeof $.ctrl[e].initialize&&$($.ctrl[e].initialize)}function initial(e){initial_hash=e}function argument(e){var t=location.hash.replace("#","").split("/");return t.length>1&&!t[0].length&&e++,"undefined"==typeof t[e]?null:t[e]}function error_send(){$.dialog.info("Erro","Erro ao enviar informações")}function error_load(){$.dialog.info("Erro","Erro ao carregar informações")}jQuery.fn.sortElements=function(){var e=[].sort;return function(t,n){n=n||function(){return this};var a=this.map(function(){var e=n.call(this),t=e.parentNode,a=t.insertBefore(document.createTextNode(""),e.nextSibling);return function(){if(t===this)throw new Error("You can't sort elements if any one is a descendant of another.");t.insertBefore(this,a),t.removeChild(a)}});return e.call(this,t).each(function(e){a[e].call(n.call(this))})}}(),Number.prototype.format=function(e,t,n){var a=this,e=isNaN(e=Math.abs(e))?2:e,t=void 0==t?".":t,n=void 0==n?",":n,r=a<0?"-":"",o=parseInt(a=Math.abs(+a||0).toFixed(e))+"",i=(i=o.length)>3?i%3:0;return r+(i?o.substr(0,i)+n:"")+o.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?t+Math.abs(a-o).toFixed(e).slice(2):"")},Number.defineProperty(Function.prototype,"format",{enumerable:!1}),Function.prototype.bind=function(e){var t=this;return function(){return t.apply(e,arguments)}},Object.defineProperty(Function.prototype,"bind",{enumerable:!1}),String.prototype.removeAccents=function(e){var t="ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž",n="AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz";e=e.split("");var a,r,o=e.length;for(a=0;a<o;a++)(r=t.indexOf(e[a]))!=-1&&(e[a]=n[r]);return e.join("")},Object.defineProperty(String.prototype,"removeAccents",{enumerable:!1}),$.ctrl={};var current_page="";$.view=function(e,t){e=e.replace("#","").replace(".","/"),$.ajax({url:"views/"+e+".html",type:"GET",dataType:"html",success:function(e){$(".app").append(e)},error:function(){$.alert("[$.view] caminho inválido")}}).done(t)},$.controller=function(e){e=e.replace("#","").replace(".","/"),$.ajax({url:"js/controllers/"+e+".js",type:"GET",dataType:"script",error:function(){}})};var initial_hash="";$(function(){$(window).on("hashchange",routes),setTimeout(routes,200)}),$.support.cors=!0;var server_url=$("meta[name=server_url]").length?$("meta[name=server_url]").attr("value"):"/",type_user=$("meta[name=type_user]").length?$("meta[name=type_user]").attr("value"):"";$.each(["put","delete","post","get"],function(e,t){$[t]=function(e,n,a,r,o){if("undefined"==typeof e||"undefined"==typeof n||"function"!=typeof a||"function"!=typeof r)return null;for(var i=server_url+"/"+type_user+"/"+e;i.indexOf("//")>=0;)i=i.replace(/\/\//gi,"/");return $.ajax({url:i,type:t,dataType:"json",crossDomain:!0,data:n,success:a,error:r,always:o})}}),$.fn.send=function(e,t){"undefined"==typeof erro&&(t=error_send),$(this).submit(function(n){return n.preventDefault(),$(this).validation()?void $.post($(this).attr("action"),$(this).serialize(),e,t).done(function(){}):($.alert("Campo inválido. Por favor preencha corretamente."),!1)})},$.fn.sendImage=function(e,t){$(this).submit(function(){return $.dialog.waiting("Enviando..."),$.ajax({type:"POST",url:serverUrl+$(this).attr("action"),data:new FormData(this),enctype:"multipart/form-data",processData:!1,contentType:!1}).success(e).fail(t).done(function(){$(".dialog-waiting").length&&$.dialog.close()}),!1}),$(this).find('input[type="file"]').change(function(){for(var e=$(this).val(),t=[/.png$/,/.jpg$/,/.jpge$/],n=0;n<t.length;n++)if(e.search(t[n])>0)return void $(this).closest("form").submit();$.alert("Arquivo inválido!")})},$.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},$.fn.validation=function(){var e={},t=!0,n=$(this).find("input, select, textarea");$(n).removeClass("invalid"),$(".callback").hide();for(var a=0;a<$(n).length;a++){var r=$(n).eq(a).attr("regex"),o=$(n).eq(a).attr("name"),i=$(n).eq(a).attr("convert"),s=$(n).eq(a).is(":radio")||$(n).eq(a).is(":checkbox")?$('input[name="'+$(n).eq(a).attr("name")+'"]',this).filter(":checked").val():$.trim($(n).eq(a).val());$(n).eq(a).is(":enabled")&&(($(n).eq(a).attr("minlength")&&s.length<parseInt($(n).eq(a).attr("minlength"))||$(n).eq(a).attr("maxlength")&&s.length>parseInt($(n).eq(a).attr("maxlength")))&&($(n).eq(a).closest(".form-group, .forms, .validation-group").find(".callback").show(),t&&($(n).eq(a).addClass("invalid").focus(),t=!1)),r&&r.length?(s=s?s:"",new RegExp(r,"i").exec(s)?("int"==i&&(s=s.length>0?parseInt(s):null),"float"==i&&(s=s.length>0?parseFloat(s.replace(",",".")):null),"numberonly"==i&&(s=s.replace(/\D/g,"")),"titlecase"==i&&(s=s.toTitleCase()),"bool"==i&&(s=(s||"").length>0),e=push_object(e,o,s)):($(n).eq(a).closest(".form-group, .forms, .validation-group").find(".callback").show(),t&&(["radio","checkbox"].indexOf($(n).eq(a).attr("type"))!=-1?$(window).scrollTop($(n).eq(a).addClass("invalid").closest(".form-group, .forms, .validation-group").offset().top-230):$(n).eq(a).addClass("invalid").focus(),t=!1))):("int"==i&&(s=s.length>0?parseInt(s):null),"float"==i&&(s=s.length>0?parseFloat(s.replace(",",".")):null),"numberonly"==i&&(s=s.replace(/\D/g,"")),"titlecase"==i&&(s=s.toTitleCase()),"bool"==i&&(s=(s||"").length>0),e=push_object(e,o,s)))}return!!t&&e};